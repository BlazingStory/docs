<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-configure-pathbase" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">ğŸ—‚ï¸ Configure path base | Blazing Story</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://blazingstory.github.io/docs/img/social-preview.png"><meta data-rh="true" name="twitter:image" content="https://blazingstory.github.io/docs/img/social-preview.png"><meta data-rh="true" property="og:url" content="https://blazingstory.github.io/docs/configure-pathbase"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="ğŸ—‚ï¸ Configure path base | Blazing Story"><meta data-rh="true" name="description" content="Blazing Story WebAssembly App"><meta data-rh="true" property="og:description" content="Blazing Story WebAssembly App"><link data-rh="true" rel="icon" href="/docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://blazingstory.github.io/docs/configure-pathbase"><link data-rh="true" rel="alternate" href="https://blazingstory.github.io/docs/configure-pathbase" hreflang="en"><link data-rh="true" rel="alternate" href="https://blazingstory.github.io/docs/configure-pathbase" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"ğŸ—‚ï¸ Configure path base","item":"https://blazingstory.github.io/docs/configure-pathbase"}]}</script><link rel="stylesheet" href="/docs/assets/css/styles.4f449523.css">
<script src="/docs/assets/js/runtime~main.a391be55.js" defer="defer"></script>
<script src="/docs/assets/js/main.73d8b639.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/docs/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/"><div class="navbar__logo"><img src="/docs/img/logo.svg" alt="Blazing Story Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/docs/img/logo.svg" alt="Blazing Story Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Blazing Story</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div><a href="https://github.com/jsakamoto/BlazingStory" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link"><span title="Introduction" class="categoryLinkLabel_W154">Introduction</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/"><span title="ğŸ  Overview" class="linkLabel_WmDU">ğŸ  Overview</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/getting-started"><span title="ğŸš€ Getting Started" class="linkLabel_WmDU">ğŸš€ Getting Started</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/structure-of-stories"><span title="ğŸ“‚ Structure of &quot;stories&quot;" class="linkLabel_WmDU">ğŸ“‚ Structure of &quot;stories&quot;</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link"><span title="Documentation" class="categoryLinkLabel_W154">Documentation</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/enhancing-documentation"><span title="âœï¸ Enhancing Documentation" class="linkLabel_WmDU">âœï¸ Enhancing Documentation</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/custom-pages-and-markdown"><span title="ğŸ“ Custom Pages &amp; Markdown" class="linkLabel_WmDU">ğŸ“ Custom Pages &amp; Markdown</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--active"><span title="Configuration" class="categoryLinkLabel_W154">Configuration</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/configure-layouts"><span title="âš™ï¸ Configure layouts" class="linkLabel_WmDU">âš™ï¸ Configure layouts</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/configure-arguments"><span title="âš™ï¸ Configure arguments" class="linkLabel_WmDU">âš™ï¸ Configure arguments</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sorting-navigation-tree-items"><span title="â†•ï¸ Sorting navigation tree items" class="linkLabel_WmDU">â†•ï¸ Sorting navigation tree items</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/configure-pathbase"><span title="ğŸ—‚ï¸ Configure path base" class="linkLabel_WmDU">ğŸ—‚ï¸ Configure path base</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link"><span title="Appearance" class="categoryLinkLabel_W154">Appearance</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/prefers-color-scheme"><span title="âš™ï¸ Prefers color scheme" class="linkLabel_WmDU">âš™ï¸ Prefers color scheme</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/customize-title-and-brand-logo"><span title="ğŸ€ Customize title and logo" class="linkLabel_WmDU">ğŸ€ Customize title and logo</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link"><span title="Development" class="categoryLinkLabel_W154">Development</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/include-custom-css-and-js"><span title="ğŸª„ Include custom CSS and JS" class="linkLabel_WmDU">ğŸª„ Include custom CSS and JS</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/mcp-server-feature"><span title="ğŸ›ï¸ MCP Server Feature" class="linkLabel_WmDU">ğŸ›ï¸ MCP Server Feature</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/hot-reloading"><span title="ğŸ”¥ Hot Reloading [Preview]" class="linkLabel_WmDU">ğŸ”¥ Hot Reloading [Preview]</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link"><span title="General Info" class="categoryLinkLabel_W154">General Info</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/disclaimer"><span title="ğŸ™‡ Disclaimer" class="linkLabel_WmDU">ğŸ™‡ Disclaimer</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/attention"><span title="âš ï¸ Attention" class="linkLabel_WmDU">âš ï¸ Attention</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/faq"><span title="ğŸ¤” FAQ" class="linkLabel_WmDU">ğŸ¤” FAQ</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-notes"><span title="ğŸ‰ Release Notes" class="linkLabel_WmDU">ğŸ‰ Release Notes</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/license-and-3rd-party-notice"><span title="ğŸ“¢ License &amp; 3rd Party Notice" class="linkLabel_WmDU">ğŸ“¢ License &amp; 3rd Party Notice</span></a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Configuration</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">ğŸ—‚ï¸ Configure path base</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>ğŸ—‚ï¸ Configure path base</h1></header>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="blazing-story-webassembly-app">Blazing Story WebAssembly App<a href="#blazing-story-webassembly-app" class="hash-link" aria-label="Direct link to Blazing Story WebAssembly App" title="Direct link to Blazing Story WebAssembly App" translate="no">â€‹</a></h2>
<p>To configure the path base for your Blazing Story WebAssembly App, you need to update the <code>href</code> property of the <code>&lt;base /&gt;</code> element in both the <code>wwwroot/index.html</code> and <code>wwwroot/iframe.html</code> files. This property determines the base URL for your application.</p>
<p>Here&#x27;s an example of how to set the path base:</p>
<div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">base</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">href</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">/foo/</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><br></span></code></pre></div></div>
<p>In this example, the path base is set to <code>/foo/</code>. This means that all relative URLs in your application will be resolved against this base URL.</p>
<p>Make sure to adjust the path base according to your application&#x27;s deployment structure.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="blazing-story-server-app">Blazing Story Server App<a href="#blazing-story-server-app" class="hash-link" aria-label="Direct link to Blazing Story Server App" title="Direct link to Blazing Story Server App" translate="no">â€‹</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="deploying-to-subdirectories-in-iis-as-a-virtual-application">Deploying to subdirectories in IIS as a virtual application<a href="#deploying-to-subdirectories-in-iis-as-a-virtual-application" class="hash-link" aria-label="Direct link to Deploying to subdirectories in IIS as a virtual application" title="Direct link to Deploying to subdirectories in IIS as a virtual application" translate="no">â€‹</a></h3>
<p>If you are deploying your Blazing Story Server App as a virtual application in IIS, <strong>you don&#x27;t need to do anything special</strong> to configure the path base. IIS and the ASP.NET Core module automatically handle the path base for virtual applications, and your application will work correctly in any subdirectory without any additional configuration. However, ensure that your application is correctly configured to run as a virtual application in IIS.</p>
<p><img decoding="async" loading="lazy" alt="&amp;quot;/foo&amp;quot; virtual app subdirectory in IIS" src="/docs/assets/images/configure-pathbase-001-IIS-c9059afd6d5f944420b34d5d83923ed2.png" width="1010" height="615" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="&amp;quot;/inetpub/wwwroot/foo&amp;quot; directory on the file system" src="/docs/assets/images/configure-pathbase-002-folders-0e09b6d7a96cb3a68e96b223a90890a0.png" width="872" height="429" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="The Blazor Server app running on the subpath URL, &amp;quot;/foo&amp;quot;" src="/docs/assets/images/configure-pathbase-003-app-e4d61db5c74cb395fb23e69903b0f0aa.png" width="789" height="417" class="img_ev3q"></p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="deploying-behind-a-reverse-proxy-nginx-etc">Deploying behind a reverse proxy (nginx, etc.)<a href="#deploying-behind-a-reverse-proxy-nginx-etc" class="hash-link" aria-label="Direct link to Deploying behind a reverse proxy (nginx, etc.)" title="Direct link to Deploying behind a reverse proxy (nginx, etc.)" translate="no">â€‹</a></h3>
<p>If you want to deploy your Blazing Story Server App behind a reverse proxy (such as nginx, Apache, or others) under a subpath, you need to configure both the reverse proxy and the Blazing Story Server App.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="configure-the-reverse-proxy">Configure the reverse proxy<a href="#configure-the-reverse-proxy" class="hash-link" aria-label="Direct link to Configure the reverse proxy" title="Direct link to Configure the reverse proxy" translate="no">â€‹</a></h4>
<p>Configure your reverse proxy to forward requests from the target subpath to the Blazing Story Server App. <strong>The key point is to not rewrite the URL</strong> when forwarding the request.</p>
<p>Here&#x27;s an example nginx configuration (<code>nginx.conf</code>):</p>
<div class="language-nginx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-nginx codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">http {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    upstream blazor_backend {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        # Specify the Blazing Story Server app running in the same host.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        server 127.0.0.1:5000;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    server {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        listen 80;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        server_name localhost;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        # Mount Blazor app under /foo path, without URL rewriting.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        location /foo {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            proxy_pass http://blazor_backend;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="configure-the-blazing-story-server-app">Configure the Blazing Story Server App<a href="#configure-the-blazing-story-server-app" class="hash-link" aria-label="Direct link to Configure the Blazing Story Server App" title="Direct link to Configure the Blazing Story Server App" translate="no">â€‹</a></h4>
<p>On the Blazing Story Server App side, you need to configure the <code>UsePathBase</code> middleware in the <code>Program.cs</code> file to handle requests to the target subpath appropriately:</p>
<div class="language-cs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cs codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app.UseHttpsRedirection();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app.UsePathBase(&quot;/foo&quot;); // Add this line</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app.MapBlazingStoryMcp();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app.MapStaticAssets();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app.UseRouting();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app.UseAntiforgery();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app.MapRazorComponents&lt;BlazingStoryServerComponent&lt;IndexPage, IFramePage&gt;&gt;()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .AddInteractiveServerRenderMode();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app.Run();</span><br></span></code></pre></div></div>
<p>With this combination of reverse proxy configuration and <code>UsePathBase</code> middleware, your Blazing Story Server App will work correctly under the specified subpath.</p>
<p>You can find a complete working example using nginx as a reverse proxy in the following GitHub repository:</p>
<ul>
<li class=""><a href="https://github.com/BlazingStory/samples/tree/main/pathbase/nginx" target="_blank" rel="noopener noreferrer" class="">https://github.com/BlazingStory/samples/tree/main/pathbase/nginx</a></li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="changing-the-path-base-of-the-blazing-story-app-component">Changing the path base of the Blazing Story App component<a href="#changing-the-path-base-of-the-blazing-story-app-component" class="hash-link" aria-label="Direct link to Changing the path base of the Blazing Story App component" title="Direct link to Changing the path base of the Blazing Story App component" translate="no">â€‹</a></h3>
<p>To change the path base of the Blazing Story Server App component (not the entire application URL), you can use the <code>IApplicationBuilder.Map(string pathMatch, Func&lt;IApplicationBuilder&gt; configuration)</code> method in the <code>Program.cs</code> file of your Blazing Story Server App. Here&#x27;s an example:</p>
<div class="language-cs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cs codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">app.Map(&quot;/stories&quot;, appBuilder =&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    appBuilder.UseRouting();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    appBuilder.UseAntiforgery();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    appBuilder.UseEndpoints(endpoints =&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        endpoints.MapStaticFiles(); // If you are using .NET 8, use &quot;appBuilder.UseStaticFiles();&quot; instead.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        endpoints.MapRazorComponents&lt;BlazingStoryServerComponent&lt;IndexPage, IFramePage&gt;&gt;()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .AddInteractiveServerRenderMode();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span><br></span></code></pre></div></div>
<p>In this example, the Blazing Story Server App component is mapped to the <code>/stories</code> path. This means that the Blazing Story App component will be accessible at <code>http://&lt;your-domain&gt;/stories</code>, while the rest of your application can still be accessed at the root URL or other paths as needed. If you add the following code after the code above, a Blazor Server App based on the <code>DefaultApp.razor</code> application component will work under the root URL:</p>
<div class="language-cs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cs codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">app.UseRouting();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app.UseAntiforgery();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#pragma warning disable ASP0014</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app.UseEndpoints(endpoints =&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    endpoints.MapStaticFiles(); // If you are using .NET 8, use &quot;appBuilder.UseStaticFiles();&quot; instead.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    endpoints.MapRazorComponents&lt;DefaultApp&gt;()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .AddInteractiveServerRenderMode();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#pragma warning restore ASP0014</span><br></span></code></pre></div></div>
<p>The result will be a single Blazing Story Server App hosting multiple Blazor Server Apps, each under different path bases. The following GIF shows an example of such an application:</p>
<p><img decoding="async" loading="lazy" src="/docs/assets/images/configure-pathbase-004-multi-apps-c79014d157f7cec7b2a1c183b09ceecc.gif" width="951" height="500" class="img_ev3q"></p>
<p>You can get the complete source code for the sample above from the following URL:</p>
<ul>
<li class=""><a href="https://github.com/BlazingStory/samples/tree/main/pathbase/multi-branches" target="_blank" rel="noopener noreferrer" class="">https://github.com/BlazingStory/samples/tree/main/pathbase/multi-branches</a></li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/BlazingStory/docs/tree/main/docs/configure-pathbase.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/sorting-navigation-tree-items"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">â†•ï¸ Sorting navigation tree items</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/prefers-color-scheme"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">âš™ï¸ Prefers color scheme</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#blazing-story-webassembly-app" class="table-of-contents__link toc-highlight">Blazing Story WebAssembly App</a></li><li><a href="#blazing-story-server-app" class="table-of-contents__link toc-highlight">Blazing Story Server App</a><ul><li><a href="#deploying-to-subdirectories-in-iis-as-a-virtual-application" class="table-of-contents__link toc-highlight">Deploying to subdirectories in IIS as a virtual application</a></li><li><a href="#deploying-behind-a-reverse-proxy-nginx-etc" class="table-of-contents__link toc-highlight">Deploying behind a reverse proxy (nginx, etc.)</a></li><li><a href="#changing-the-path-base-of-the-blazing-story-app-component" class="table-of-contents__link toc-highlight">Changing the path base of the Blazing Story App component</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2025 @jsakamoto. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>